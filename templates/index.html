<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>ç‰©æ–™æŸè€—ç»Ÿè®¡</title>
   <link href="{{ url_for('static', filename='bootstrap.min.css') }}" rel="stylesheet">
    <style>
        body {
            background: #f9f9f9;
        }
        .container-flex {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }
        .table-container {
            flex: 1;
            max-width: 50%;
            overflow-x: auto;
        }
        .chart-container {
            flex: 1;
            max-width: 50%;
            text-align: center;
        }
        img {
            max-width: 100%;
            border: 1px solid #ccc;
            border-radius: 8px;
            padding: 5px;
            background: #fff;
            box-shadow: 0 0 5px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="p-4">
    <h2 class="mb-4">ğŸ“Š ç‰©æ–™æŸè€—ç»Ÿè®¡</h2>

    <form method="post" class="mb-4">
{#        <label>å¼€å§‹æ—¥æœŸ: <input type="date" name="start" required></label>#}
{#        <label>ç»“æŸæ—¥æœŸ: <input type="date" name="end" required></label>#}

       <label>å¼€å§‹æ—¥æœŸ:<input type="date" name="start" value="{{ start_date }}" required></label>
       <label>ç»“æŸæ—¥æœŸ:<input type="date" name="end" value="{{ end_date }}" required></label>

        <button type="submit" class="btn btn-primary">æŸ¥è¯¢</button>
    </form>

    {% if result %}
    <div class="container-flex">
        <div class="table-container">
            <h4>ç»Ÿè®¡è¡¨æ ¼</h4>
            {{ result|safe }}
        </div>
        <div class="chart-container">
            <h4>ç»Ÿè®¡å›¾è¡¨</h4>
            <img src="{{chart_file}}?v={{ cache_bust }}" alt="æŸè€—å›¾è¡¨">
        </div>
    </div>
    {% endif %}
</body>
</html>
